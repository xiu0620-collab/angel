<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹•ç‰©æ–¹åŸå¸‚ï¼šZPD äº¤æ›ç¦®ç‰©å¤§æœƒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- å…¨åŸŸè¨­å®š --- */
        :root {
            --zpd-dark-blue: #0a1a33;
            --zpd-gold: #f3c623;
            --badge-red: #c0392b;
            --scroll-text: #4a3b2a; /* å·è»¸ä¸Šçš„æ–‡å­—é¡è‰² (æ·±å’–å•¡) */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            /* æ•´é«”ç¶²é èƒŒæ™¯ï¼šä¿æŒåŸæœ¬çš„é«˜ç•«è³ªå¤œæ™¯ï¼Œæˆ–æ‚¨å¯ä»¥æ›æˆè‡ªå·±å–œæ­¡çš„ */
            background-image: url('https://images.alphacoders.com/674/674812.jpg');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #fff;
        }

        /* èƒŒæ™¯é®ç½© */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 26, 51, 0.6);
            z-index: -1;
        }

        /* --- æ¨™é¡Œå€ --- */
        .header-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            padding-top: 20px;
            gap: 20px;
            flex-wrap: wrap;
        }

        /* åœ–ç‰‡1ï¼šå°¼å…‹èˆ‡èŒ±è’‚è‡ªæ‹ */
        .header-avatar {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 5px solid var(--zpd-gold);
            /* å¼•ç”¨æœ¬åœ°åœ–ç‰‡ header.jpg */
            background-image: url('header.jpg'); 
            background-size: cover;
            background-position: center;
            box-shadow: 0 0 25px rgba(243, 198, 35, 0.6);
        }

        h1 {
            font-size: 3rem;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--zpd-gold);
            text-shadow: 3px 3px 0 #000, 0 0 20px rgba(243, 198, 35, 0.8);
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #fff;
            margin-top: 5px;
            font-weight: bold;
        }

        /* --- å€åŸŸ 1: æŠ½ç±¤ç³»çµ± (ä½¿ç”¨å·è»¸èƒŒæ™¯) --- */
        .lottery-section {
            /* åœ–ç‰‡2ï¼šåŸå¸‚å·è»¸èƒŒæ™¯ */
            background-image: url('scroll.jpg');
            background-size: 100% 100%; /* å¼·åˆ¶å¡«æ»¿ */
            background-repeat: no-repeat;
            background-position: center;
            
            /* èª¿æ•´å®¹å™¨å¤§å°ä»¥é…åˆå·è»¸æ¯”ä¾‹ */
            max-width: 800px;
            min-height: 500px; 
            margin: 0 auto 60px auto;
            padding: 80px 100px; /* å¢åŠ å…§è·ï¼Œç¢ºä¿æ–‡å­—é¡¯ç¤ºåœ¨å·è»¸ä¸­é–“ */
            box-sizing: border-box;
            
            text-align: center;
            /* æ–‡å­—é¡è‰²æ”¹ç‚ºæ·±è‰²ï¼Œå› ç‚ºå·è»¸æ˜¯æ·ºè‰²çš„ */
            color: var(--scroll-text); 
            font-weight: bold;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            
            /* å»æ‰åŸæœ¬çš„é‚Šæ¡†å’Œé™°å½±ï¼Œå› ç‚ºåœ–ç‰‡æœ¬èº«å°±æœ‰ */
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .lottery-title {
            font-size: 2rem;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--scroll-text);
            display: inline-block;
            padding-bottom: 10px;
        }

        .lottery-btn {
            background: linear-gradient(to bottom, #f3c623, #e67e22);
            color: var(--zpd-dark-blue);
            border: 2px solid #fff;
            padding: 12px 40px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 900;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            transition: transform 0.1s;
            margin-bottom: 20px;
        }

        .lottery-btn:active {
            transform: scale(0.95);
        }

        #result-list {
            list-style: none;
            padding: 0;
            margin: 0;
            width: 100%;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            display: none;
            max-height: 300px; /* é™åˆ¶é«˜åº¦ï¼Œè¶…éå¯æ²å‹• */
            overflow-y: auto;
        }

        /* å·è»¸å…§çš„çµæœæ¨£å¼ */
        #result-list li {
            background: rgba(255, 255, 255, 0.6);
            border: 2px solid var(--scroll-text);
            color: var(--scroll-text);
            padding: 5px;
            border-radius: 5px;
            font-weight: 900;
            animation: fadeIn 0.5s forwards;
        }

        /* --- å€åŸŸ 2: ç¦®ç‰©ç‰Œå­å€ --- */
        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            color: #fff;
            text-shadow: 2px 2px 5px #000;
        }

        .section-title span {
            border-bottom: 4px solid var(--zpd-gold);
            padding-bottom: 10px;
        }

        .gift-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto 50px auto;
        }

        .card-container {
            perspective: 1000px;
            height: 350px;
            cursor: pointer;
            z-index: 1;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            border: 4px solid #fff;
        }

        /* å¡ç‰‡æ­£é¢ï¼šæª”æ¡ˆå¤¾é¢¨æ ¼ */
        .card-front {
            background-color: #f0e6d2;
            color: #5d4037;
            border: 5px solid #d4c5a0;
            /* æª”æ¡ˆå¤¾ç´‹ç† */
            background-image: repeating-linear-gradient(45deg, #f0e6d2 0, #f0e6d2 10px, #e8dec0 10px, #e8dec0 20px);
        }

        .stamp-top-secret {
            border: 4px solid var(--badge-red);
            color: var(--badge-red);
            padding: 5px 15px;
            font-weight: 900;
            font-size: 1.2rem;
            transform: rotate(-10deg);
            margin-bottom: 15px;
            border-radius: 5px;
            background: rgba(255,255,255,0.5);
        }

        .card-front h3 {
            font-size: 1.1rem;
            margin: 10px 0;
            font-weight: bold;
            text-align: center;
            line-height: 1.5;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* å¡ç‰‡èƒŒé¢ï¼šä½¿ç”¨åœ–ç‰‡3 (å¤§åˆç…§) */
        .card-back {
            /* å¼•ç”¨æœ¬åœ°åœ–ç‰‡ card_bg.jpg */
            background-image: url('card_bg.jpg');
            background-size: cover;
            background-position: center;
            transform: rotateY(180deg);
            border: 4px solid var(--zpd-gold);
        }

        /* é®ç½©è®“æ–‡å­—æ¸…æ¥š */
        .card-back::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 26, 51, 0.85); /* æ·±è—è‰²é®ç½© */
            border-radius: 11px;
        }

        .card-back-content {
            position: relative;
            z-index: 2;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            justify-content: center;
        }

        .card-back h2 {
            font-size: 2.2rem;
            color: #fff;
            margin: 10px 0;
            text-shadow: 0 0 10px var(--zpd-gold);
            border-bottom: 2px solid var(--zpd-gold);
        }

        .badge-icon {
            font-size: 3rem;
            margin-bottom: 5px;
        }

        /* RWD èª¿æ•´ */
        @media (max-width: 768px) {
            .lottery-section {
                background-size: cover; /* æ‰‹æ©Ÿç‰ˆæ”¹ç‚º cover ä»¥å…è®Šå½¢ */
                padding: 40px 20px;
                min-height: 400px;
            }
            .header-container { flex-direction: column; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <header class="header-container">
        <div class="header-avatar"></div>
        <div style="text-align: center;">
            <h1>ğŸ¦ ZOOTOPIA ğŸ°</h1>
            <div class="subtitle">ZPD äº¤æ›ç¦®ç‰©å¤§æœƒ</div>
        </div>
    </header>

    <div class="lottery-section">
        <div class="lottery-title">ğŸ“œ ZPD ä»»å‹™æŒ‡æ´¾å·è»¸</div>
        <p style="margin-bottom: 20px;">é»æ“ŠæŒ‰éˆ•ï¼Œè§£é–å¤§å®¶çš„äº¤æ›é †åºï¼</p>
        <button class="lottery-btn" onclick="drawOrder()">
            ğŸ² é–‹å§‹æŠ½ç±¤ / START
        </button>
        <ul id="result-list"></ul>
    </div>

    <div class="section-title">
        <span>ğŸ“‚ è­‰ç‰©å®¤ï¼šç¥ç§˜ç¦®ç‰©æª”æ¡ˆ</span>
    </div>
    
    <div class="gift-grid" id="gift-container">
        </div>

    <script>
        // --- åƒèˆ‡è€…åå–® ---
        const participants = [
            "é™³æ€ç©", "åŠ‰é›…è", "åŠ‰ä»²ä¿®", "è©¹ç´”è“‰", "é™³æ€¡æ½”", 
            "æç¬äº‘", "é™³çŸä¼¶", "ç‹æƒ æ…ˆ", "ä½•èŠ·éœ“", "ç‹è–ç¿", 
            "å¾å¿—æ˜", "å‘‚å’Œæ¦•", "é»ƒå®¶ç‚º", "æ—è™¹å®‰"
        ];

        // --- ç¦®ç‰©è³‡æ–™ ---
        const giftData = [
            { desc: "åŒ…æº–å–œæ­¡åŒ…å›æ»¿æ„ğŸ¤£", giver: "é™³æ€ç©", pass: "1223" },
            { desc: "ç¶œåˆå¤§ç¦®åŒ…+æ—…è¡Œä½¿ç”¨", giver: "åŠ‰é›…è", pass: "1223" },
            { desc: "14å€‹ç¦®ç‰©ç†é¢æœ€å¥½çš„æˆ‘æ²’é¨™å¦³", giver: "åŠ‰ä»²ä¿®", pass: "1223" },
            { desc: "è¿‘1å¹´è²·çš„ï¼Œè®“å®ƒå€‘éš¨æ™‚é™ªä¼´ä½ ã€å‘µè­·ä½ !", giver: "è©¹ç´”è“‰", pass: "1223" },
            { desc: "å°±æ˜¯è–èª•ç¦®ç‰©æœ€è€å¥—<br>ä½ æœ€ä¸æƒ³æŠ½åˆ°çš„é‚£ç¨®", giver: "é™³æ€¡æ½”", pass: "1223" },
            { desc: "ç™½å¤©å®ƒåªæ˜¯ä¸€å€‹æ±è¥¿<br>æ™šä¸Šå¯ä»¥ç™‚ç™’ä½ çš„å¿ƒæƒ…", giver: "æç¬äº‘", pass: "1223" },
            { desc: "å¤–è¡¨ä½èª¿ã€å…§å®¹å»å¾ˆæœ‰å­¸å•<br>è£å¾—ä½æ—¥å¸¸ï¼Œæ´—å¾—æ‰ç…©æƒ±", giver: "é™³çŸä¼¶", pass: "1223" },
            { desc: "è³­åšå¤±æ•—çš„æ±è¥¿", giver: "ç‹æƒ æ…ˆ", pass: "1223" },
            { desc: "å“ªè£¡éƒ½å¯ä»¥ç”¨ã€æ–¹ä¾¿å¥½æ”œå¸¶", giver: "ä½•èŠ·éœ“", pass: "1223" },
            { desc: "è¶…ç´šå¯¦ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨é€™å€‹å­£ç¯€<br>éå¸¸é©åˆ", giver: "ç‹è–ç¿", pass: "1223" },
            { desc: "åœ¨å®¶è£¡æ“ºäº†nå¹´ï¼Œå°å­©æœƒå–œæ­¡<br>æœ‰å»šæˆ¿å°±å¯ä»¥ç”¨", giver: "å¾å¿—æ˜", pass: "1223" },
            { desc: "ä¾†è‡ªå¤§å¸¥å“¥çš„ç¦®ç‰©", giver: "å‘‚å’Œæ¦•", pass: "1223" },
            { desc: "æœ¨è£½å“", giver: "é»ƒå®¶ç‚º", pass: "1223" },
            { desc: "äººåœ¨æ±‚å­¸éšæ®µæœƒç”¨åˆ°çš„æ±è¥¿<br>(ï¼Ÿæ‡‰è©²)", giver: "æ—è™¹å®‰", pass: "1223" }
        ];

        // --- æŠ½ç±¤åŠŸèƒ½ ---
        function drawOrder() {
            const listElement = document.getElementById('result-list');
            const btn = document.querySelector('.lottery-btn');
            
            // é‡æ–°æŠ½ç±¤æª¢æŸ¥
            if(listElement.style.display === 'grid') {
                if(!confirm("âš ï¸ ç¢ºå®šè¦é‡æ–°æŠ½ç±¤å—ï¼Ÿå·è»¸ä¸Šçš„å¢¨è·¡æœƒè¢«æ´—æ‰ï¼")) return;
            }

            // å¯†ç¢¼é©—è­‰
            const pwd = prompt("ğŸ” å·è»¸è§£é–å¯†ç¢¼\nè«‹è¼¸å…¥ä¸»æŒäººå¯†ç¢¼ï¼š");
            if (pwd !== "1223") {
                alert("ğŸš« å¯†ç¢¼éŒ¯èª¤ï¼å·è»¸ç„¡æ³•é–‹å•Ÿã€‚");
                return;
            }

            // é¡¯ç¤ºåˆ—è¡¨
            listElement.style.display = 'grid';
            listElement.innerHTML = '';
            
            // æ´—ç‰Œ
            let shuffled = [...participants];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }

            shuffled.forEach((name, index) => {
                const li = document.createElement('li');
                li.innerHTML = `No.${index + 1} ${name}`;
                li.style.animationDelay = `${index * 0.1}s`;
                listElement.appendChild(li);
            });
            
            btn.innerHTML = "ğŸ”„ é‡æ–°æŠ½ç±¤";
        }

        // --- æ¸²æŸ“å¡ç‰‡ ---
        function renderCards() {
            const container = document.getElementById('gift-container');
            
            giftData.forEach((gift, index) => {
                const cardWrap = document.createElement('div');
                cardWrap.className = 'card-container';
                const giftNumber = index + 1;
                const caseID = `CASE-${Math.floor(1000 + Math.random() * 9000)}`;

                cardWrap.innerHTML = `
                    <div class="card" id="card-${index}">
                        <div class="card-face card-front">
                            <div class="stamp-top-secret">CONFIDENTIAL</div>
                            <div style="font-family: monospace; color: #888; font-size: 0.9rem; width:100%; text-align:right;">${caseID}</div>
                            <h3>${gift.desc}</h3>
                            <div style="margin-top:auto; font-size:0.9rem; color:#666; width:100%; display:flex; justify-content:space-between;">
                                <span>ğŸ”’ ç¦®ç‰© #${giftNumber}</span>
                                <span>ğŸ‘† é»æ“ŠæŸ¥çœ‹</span>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="card-back-content">
                                <div class="badge-icon">ğŸ›¡ï¸</div>
                                <div class="giver-label">Gift Agent</div>
                                <h2>${gift.giver}</h2>
                                <div class="zpd-footer">Zootopia Police Dept.</div>
                            </div>
                        </div>
                    </div>
                `;

                // é»æ“Šäº‹ä»¶ï¼šç¿»é–‹è¦å¯†ç¢¼ï¼Œè“‹ä¸Šä¸ç”¨
                cardWrap.addEventListener('click', function() {
                    const card = document.getElementById(`card-${index}`);
                    
                    if (card.classList.contains('flipped')) {
                        card.classList.remove('flipped'); // è“‹å›å»
                        return;
                    }

                    const input = prompt(`ğŸ‘® ZPD å®‰å…¨æª¢æŸ¥\nè«‹è¼¸å…¥ç¦®ç‰© #${giftNumber} çš„å¯†ç¢¼ï¼š`);
                    if (input === gift.pass) {
                        card.classList.add('flipped'); // ç¿»é–‹
                    } else if (input !== null) {
                        alert("ğŸš« å¯†ç¢¼éŒ¯èª¤ï¼");
                    }
                });

                container.appendChild(cardWrap);
            });
        }

        window.onload = renderCards;
    </script>
</body>
</html>